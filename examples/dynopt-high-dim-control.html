<!-- Dyna-to-Html Version 1.6 - Copyright (c) 2018-2021 Alain J. Michiels. All rights reserved. -->
<html>
<head>
<style>
body {font-family: Verdana, Geneva, sans-serif; font-size: 14px; background-color: white;}
p {margin-left: 14px;}
ol {margin-top: -10px; margin-left: 15px; padding-left: 15px;}
ul {margin-top: -10px; margin-left: 15px; padding-left: 15px;}
pre {display: block; font-family: monospace; white-space: pre; margin: 1em 0; font-size: 16px;}
ol.ref {margin-top: -10px; margin-left: 36px; padding-left: 0; text-indent: -22px; list-style-position: outside; list-style-type: none; counter-reset: icnt;}
ol.ref li.ref::before {content: '[' counter(icnt) '] '; counter-increment: icnt;}
</style>
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML" type="text/javascript"></script>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
</head>
<body>
<h1 align="center" style="color:#7EAEAC">High Dimensional Control</h1>
<pre>
<font color="red"><b>rem:</b></font> High Dimensional Control
</pre>
<p>
  Find \(u\) over \(t \in [0,0.2]\) to maximize
  \[
  \int_0^{0.2} (5.8 \ (q \ x_1-u_4)-3.7 \ u_1-4.1 \ u_2 + q \ (23 \ x_4+11 \ x_5+28 \ x_6+35 \ x_7)-5 \ u_3^2-0.099) \ \mathrm{d}t
  \]
  subject to:
  \[
  \dot{x}_1 = u_4-q \ x_1-17.6 \ x_1 \ x_2-23 \ x_1 \ x_6 \ u_3 \\
  \dot{x}_2 = u_1-q \ x_2-17.6 \ x_1 \ x_2-146 \ x_2 \ x_3 \\
  \dot{x}_3 = u_2-q \ x_3-73 \ x_2 \ x_3 \\
  \dot{x}_4 = -q \ x_4+35.2 \ x_1 \ x_2-51.3 \ x_4 \ x_5 \\
  \dot{x}_5 = -q \ x_5+219 \ x_2 \ x_3-51.3 \ x_4 \ x_5 \\
  \dot{x}_6 = -q \ x_6+102.6 \ x_4 \ x_5-23 \ x_1 \ x_6 \ u_3 \\
  \dot{x}_7 = -q \ x_7+46 \ x_1 \ x_6 \ u_3
  \]
  where
  \[
  q = u_1+u_2+u_4 \\
  x(0) = [0.1883 \ 0.2507 \ 0.0467 \ 0.0899 \ 0.1804 \ 0.1394 \ 0.1046] \\
  0 \leq u_1 \leq 20 \\
  0 \leq u_2 \leq 6 \\
  0 \leq u_3 \leq 4 \\
  0 \leq u_4 \leq 20
  \]
<p>
  Source: DYNOPT - MATLAB Dynamic Optimisation Code, User&rsquo;s Guide version 4.3.0, March 28, 2017
<p>
<pre>
<font color="red"><b>par:</b></font>
  tf = 0.2

<font color="red"><b>dyn:</b></font>
  x{1:7}	<font color="#808080"><i># state variables</i></font>
  u{1:4}	<font color="#808080"><i># control variables</i></font>
  J

<font color="red"><b>lim:</b></font>
  0 &lt;= u{1:4} &lt;= {20 6 4 20}

<font color="red"><b>t=t0:</b></font>
  x{1:7} = {0.1883 0.2507 0.0467 0.0899 0.1804 0.1394 0.1046}
  J = 0

<font color="red"><b>ini:</b></font>
  x{1:7} = {0.1883 0.2507 0.0467 0.0899 0.1804 0.1394 0.1046}

<font color="red"><b>exp:</b></font>
  q == u1 + u2 + u4

<font color="red"><b>equ:</b></font>
  x1&acute; == u4 - q*x1 - 17.6*x1*x2 - 23*x1*x6*u3
  x2&acute; == u1 - q*x2 - 17.6*x1*x2 - 146*x2*x3
  x3&acute; == u2 - q*x3 - 73*x2*x3
  x4&acute; ==  - q*x4 + 35.2*x1*x2 - 51.3*x4*x5
  x5&acute; ==  - q*x5 + 219*x2*x3 - 51.3*x4*x5
  x6&acute; ==  - q*x6 + 102.6*x4*x5 - 23*x1*x6*u3
  x7&acute; ==  - q*x7 + 46*x1*x6*u3
  J&acute; == 5.8*(q*x1-u4) - 3.7*u1 - 4.1*u2 + q*(23*x4+11*x5+28*x6+35*x7) - 5.0*<font color="#2ECC40">sqr</font>(u3) - 0.099

<font color="red"><b>obj:</b></font>
  <font color="#8A2BE2">maximize</font> <font color="#0074D9">final</font>(J) <font color="#8A2BE2">using</font> nlp
</pre>
</body>
</html>
