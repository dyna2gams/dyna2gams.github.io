<!-- Dyna-to-Html Version 1.0 - Copyright (c) 2018 Alain J. Michiels. All rights reserved. -->
<html>
<head>
<style>
body {font-family: Verdana, Geneva, sans-serif; font-size: 14px; background-color: white;}
p {margin-left: 14px;}
ol {margin-top: -10px; margin-left: 15px; padding-left: 15px;}
ul {margin-top: -10px; margin-left: 15px; padding-left: 15px;}
pre {display: block; font-family: monospace; white-space: pre; margin: 1em 0; font-size: 16px;}
ol.ref {margin-top: -10px; margin-left: 36px; padding-left: 0; text-indent: -22px; list-style-position: outside; list-style-type: none; counter-reset: icnt;}
ol.ref li.ref::before {content: '[' counter(icnt) '] '; counter-increment: icnt;}
</style>
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML" type="text/javascript"></script>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
</head>
<body>
<h1 align="center" style="color:#7EAEAC">Greenhouse Climate Control</h1>
<pre>
<font color="red"><b>rem:</b></font> Greenhouse Climate Control
</pre>
<p>
  Greenhouse Optimal Climate Control, a problem with external inputs.
<p>
  Reference:
  <ol>
  <li>G. van Straten, R.J.C. van Ooteghem, L.G. van Willigenburg, E. van Henten,
  <em>Optimal Control of Greenhouse Cultivation</em>,
  ISBN: 9781420059618 CRC Pr I Llc Books.
  </ol>
<p>
  Source: PROPT - Matlab Optimal Control Software, User Manual, April 26, 2010
<p>
<pre>
<font color="red"><b>fun:</b></font>
  <font color="#808080"><i># tau = (-1:0.2:49)'</i></font>
  <font color="#808080"><i># tue = [tau 800*sin(4*pi*tau/tf-0.65*pi) 15+10*sin(4*pi*tau/tf-0.65*pi)]</i></font>
   Tau        &sect;Tue1       &sect;Tue2
  -1.0   -594.51586     7.56855
  -0.8   -621.71677     7.22854
  -0.6   -647.21360     6.90983
  -0.4   -670.93645     6.61329
  -0.2   -692.82032     6.33975
   0.0   -712.80522     6.08993
   0.2   -730.83637     5.86455
   0.4   -746.86434     5.66420
   0.6   -760.84521     5.48943
   0.8   -772.74066     5.34074
   1.0   -782.51808     5.21852
   1.2   -790.15067     5.12312
   1.4   -795.61752     5.05478
   1.6   -798.90363     5.01370
   1.8   -800.00000     5.00000
   2.0   -798.90363     5.01370
   2.2   -795.61752     5.05478
   2.4   -790.15067     5.12312
   2.6   -782.51808     5.21852
   2.8   -772.74066     5.34074
   3.0   -760.84521     5.48943
   3.2   -746.86434     5.66420
   3.4   -730.83637     5.86455
   3.6   -712.80522     6.08993
   3.8   -692.82032     6.33975
   4.0   -670.93645     6.61329
   4.2   -647.21360     6.90983
   4.4   -621.71677     7.22854
   4.6   -594.51586     7.56855
   4.8   -565.68542     7.92893
   5.0   -535.30449     8.30869
   5.2   -503.45631     8.70680
   5.4   -470.22820     9.12215
   5.6   -435.71123     9.55361
   5.8   -400.00000    10.00000
   6.0   -363.19240    10.46010
   6.2   -325.38931    10.93263
   6.4   -286.69436    11.41632
   6.6   -247.21360    11.90983
   6.8   -207.05524    12.41181
   7.0   -166.32935    12.92088
   7.2   -125.14757    13.43566
   7.4    -83.62277    13.95472
   7.6    -41.86876    14.47664
   7.8      0.00000    15.00000
   8.0     41.86876    15.52336
   8.2     83.62277    16.04528
   8.4    125.14757    16.56434
   8.6    166.32935    17.07912
   8.8    207.05524    17.58819
   9.0    247.21360    18.09017
   9.2    286.69436    18.58368
   9.4    325.38931    19.06737
   9.6    363.19240    19.53990
   9.8    400.00000    20.00000
  10.0    435.71123    20.44639
  10.2    470.22820    20.87785
  10.4    503.45631    21.29320
  10.6    535.30449    21.69131
  10.8    565.68542    22.07107
  11.0    594.51586    22.43145
  11.2    621.71677    22.77146
  11.4    647.21360    23.09017
  11.6    670.93645    23.38671
  11.8    692.82032    23.66025
  12.0    712.80522    23.91007
  12.2    730.83637    24.13545
  12.4    746.86434    24.33580
  12.6    760.84521    24.51057
  12.8    772.74066    24.65926
  13.0    782.51808    24.78148
  13.2    790.15067    24.87688
  13.4    795.61752    24.94522
  13.6    798.90363    24.98630
  13.8    800.00000    25.00000
  14.0    798.90363    24.98630
  14.2    795.61752    24.94522
  14.4    790.15067    24.87688
  14.6    782.51808    24.78148
  14.8    772.74066    24.65926
  15.0    760.84521    24.51057
  15.2    746.86434    24.33580
  15.4    730.83637    24.13545
  15.6    712.80522    23.91007
  15.8    692.82032    23.66025
  16.0    670.93645    23.38671
  16.2    647.21360    23.09017
  16.4    621.71677    22.77146
  16.6    594.51586    22.43145
  16.8    565.68542    22.07107
  17.0    535.30449    21.69131
  17.2    503.45631    21.29320
  17.4    470.22820    20.87785
  17.6    435.71123    20.44639
  17.8    400.00000    20.00000
  18.0    363.19240    19.53990
  18.2    325.38931    19.06737
  18.4    286.69436    18.58368
  18.6    247.21360    18.09017
  18.8    207.05524    17.58819
  19.0    166.32935    17.07912
  19.2    125.14757    16.56434
  19.4     83.62277    16.04528
  19.6     41.86876    15.52336
  19.8      0.00000    15.00000
  20.0    -41.86876    14.47664
  20.2    -83.62277    13.95472
  20.4   -125.14757    13.43566
  20.6   -166.32935    12.92088
  20.8   -207.05524    12.41181
  21.0   -247.21360    11.90983
  21.2   -286.69436    11.41632
  21.4   -325.38931    10.93263
  21.6   -363.19240    10.46010
  21.8   -400.00000    10.00000
  22.0   -435.71123     9.55361
  22.2   -470.22820     9.12215
  22.4   -503.45631     8.70680
  22.6   -535.30449     8.30869
  22.8   -565.68542     7.92893
  23.0   -594.51586     7.56855
  23.2   -621.71677     7.22854
  23.4   -647.21360     6.90983
  23.6   -670.93645     6.61329
  23.8   -692.82032     6.33975
  24.0   -712.80522     6.08993
  24.2   -730.83637     5.86455
  24.4   -746.86434     5.66420
  24.6   -760.84521     5.48943
  24.8   -772.74066     5.34074
  25.0   -782.51808     5.21852
  25.2   -790.15067     5.12312
  25.4   -795.61752     5.05478
  25.6   -798.90363     5.01370
  25.8   -800.00000     5.00000
  26.0   -798.90363     5.01370
  26.2   -795.61752     5.05478
  26.4   -790.15067     5.12312
  26.6   -782.51808     5.21852
  26.8   -772.74066     5.34074
  27.0   -760.84521     5.48943
  27.2   -746.86434     5.66420
  27.4   -730.83637     5.86455
  27.6   -712.80522     6.08993
  27.8   -692.82032     6.33975
  28.0   -670.93645     6.61329
  28.2   -647.21360     6.90983
  28.4   -621.71677     7.22854
  28.6   -594.51586     7.56855
  28.8   -565.68542     7.92893
  29.0   -535.30449     8.30869
  29.2   -503.45631     8.70680
  29.4   -470.22820     9.12215
  29.6   -435.71123     9.55361
  29.8   -400.00000    10.00000
  30.0   -363.19240    10.46010
  30.2   -325.38931    10.93263
  30.4   -286.69436    11.41632
  30.6   -247.21360    11.90983
  30.8   -207.05524    12.41181
  31.0   -166.32935    12.92088
  31.2   -125.14757    13.43566
  31.4    -83.62277    13.95472
  31.6    -41.86876    14.47664
  31.8      0.00000    15.00000
  32.0     41.86876    15.52336
  32.2     83.62277    16.04528
  32.4    125.14757    16.56434
  32.6    166.32935    17.07912
  32.8    207.05524    17.58819
  33.0    247.21360    18.09017
  33.2    286.69436    18.58368
  33.4    325.38931    19.06737
  33.6    363.19240    19.53990
  33.8    400.00000    20.00000
  34.0    435.71123    20.44639
  34.2    470.22820    20.87785
  34.4    503.45631    21.29320
  34.6    535.30449    21.69131
  34.8    565.68542    22.07107
  35.0    594.51586    22.43145
  35.2    621.71677    22.77146
  35.4    647.21360    23.09017
  35.6    670.93645    23.38671
  35.8    692.82032    23.66025
  36.0    712.80522    23.91007
  36.2    730.83637    24.13545
  36.4    746.86434    24.33580
  36.6    760.84521    24.51057
  36.8    772.74066    24.65926
  37.0    782.51808    24.78148
  37.2    790.15067    24.87688
  37.4    795.61752    24.94522
  37.6    798.90363    24.98630
  37.8    800.00000    25.00000
  38.0    798.90363    24.98630
  38.2    795.61752    24.94522
  38.4    790.15067    24.87688
  38.6    782.51808    24.78148
  38.8    772.74066    24.65926
  39.0    760.84521    24.51057
  39.2    746.86434    24.33580
  39.4    730.83637    24.13545
  39.6    712.80522    23.91007
  39.8    692.82032    23.66025
  40.0    670.93645    23.38671
  40.2    647.21360    23.09017
  40.4    621.71677    22.77146
  40.6    594.51586    22.43145
  40.8    565.68542    22.07107
  41.0    535.30449    21.69131
  41.2    503.45631    21.29320
  41.4    470.22820    20.87785
  41.6    435.71123    20.44639
  41.8    400.00000    20.00000
  42.0    363.19240    19.53990
  42.2    325.38931    19.06737
  42.4    286.69436    18.58368
  42.6    247.21360    18.09017
  42.8    207.05524    17.58819
  43.0    166.32935    17.07912
  43.2    125.14757    16.56434
  43.4     83.62277    16.04528
  43.6     41.86876    15.52336
  43.8      0.00000    15.00000
  44.0    -41.86876    14.47664
  44.2    -83.62277    13.95472
  44.4   -125.14757    13.43566
  44.6   -166.32935    12.92088
  44.8   -207.05524    12.41181
  45.0   -247.21360    11.90983
  45.2   -286.69436    11.41632
  45.4   -325.38931    10.93263
  45.6   -363.19240    10.46010
  45.8   -400.00000    10.00000
  46.0   -435.71123     9.55361
  46.2   -470.22820     9.12215
  46.4   -503.45631     8.70680
  46.6   -535.30449     8.30869
  46.8   -565.68542     7.92893
  47.0   -594.51586     7.56855
  47.2   -621.71677     7.22854
  47.4   -647.21360     6.90983
  47.6   -670.93645     6.61329
  47.8   -692.82032     6.33975
  48.0   -712.80522     6.08993
  48.2   -730.83637     5.86455
  48.4   -746.86434     5.66420
  48.6   -760.84521     5.48943
  48.8   -772.74066     5.34074
  49.0   -782.51808     5.21852

<font color="red"><b>par:</b></font>
  pW = 3e-6/40
  pT = 1
  pH = 0.1
  pHc = 7.5e-2/220
  pWc = 3e4/220
  tf = 48

<font color="red"><b>tpa:</b></font>
  Tue1 = &sect;Tue1(<font color="#0074D9">Time</font>)
  Tue2 = &sect;Tue2(<font color="#0074D9">Time</font>)
  
<font color="red"><b>dyn:</b></font>
  x1 x2 x3	<font color="#808080"><i># state variables</i></font>
  u	<font color="#808080"><i># control variable</i></font>

<font color="red"><b>lim:</b></font>
  0 &lt;= u &lt;= 10

<font color="red"><b>t=t0:</b></font>
  x{1:3} = {0 10 0}

<font color="red"><b>ini:</b></font>
  u = 0

<font color="red"><b>equ:</b></font>
  x1&acute; == pW * Tue1 * x2
  x2&acute; == pT * (Tue2-x2) + pH * u
  x3&acute; == pHc * u

<font color="red"><b>obj:</b></font>
  <font color="#8A2BE2">minimize</font> <font color="#0074D9">final</font>(x3-pWc*x1) <font color="#8A2BE2">using</font> nlp
</pre>
</body>
</html>
