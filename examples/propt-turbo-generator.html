<!-- Dyna-to-Html Version 1.0 - Copyright (c) 2018 Alain J. Michiels. All rights reserved. -->
<html>
<head>
<style>
body {font-family: Verdana, Geneva, sans-serif; font-size: 14px; background-color: white;}
p {margin-left: 14px;}
ol {margin-top: -10px; margin-left: 15px; padding-left: 15px;}
ul {margin-top: -10px; margin-left: 15px; padding-left: 15px;}
pre {display: block; font-family: monospace; white-space: pre; margin: 1em 0; font-size: 16px;}
ol.ref {margin-top: -10px; margin-left: 36px; padding-left: 0; text-indent: -22px; list-style-position: outside; list-style-type: none; counter-reset: icnt;}
ol.ref li.ref::before {content: '[' counter(icnt) '] '; counter-increment: icnt;}
</style>
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML" type="text/javascript"></script>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
</head>
<body>
<h1 align="center" style="color:#7EAEAC">Turbo Generator</h1>
<pre>
<font color="red"><b>rem:</b></font> Turbo Generator
</pre>
<p>
  OCCAL - A Mixed symbolic-numeric Optimal Control CALculator
  Section 4 Example 1
<p>
  Find \(u\) over \(t \in [0,t_f]\) to minimize
  \[
  J = \int_0^{t_f} (\alpha_1 ( (x_1-x_1^{s})^2 + (x_4-x_4^{s})^2) + \alpha_2 x_2^{2} + \alpha_3 (x_3-x_3^{s})^{2} + \beta_1 (u_1-u_1^{s})^{2} + \beta_2 (u_2-u_2^{s})^{2} ) \ \mathrm{d}t
  \]
  subject to:
  \[
  \dot{x}_1 = x_2 x_4 \\
  \dot{x}_2 = \frac{1}{M} (u_1-s_4 x_1 x_4-s_5 x_1 x_3-\kappa_d x_2 \\
  \dot{x}_3 = u_2-A x_3+c x_4 \\
  \dot{x}_4 = -x_1 x_2
  \]
  The initial conditions are:
  \[
  x(0) = [x_1^{s} \ x_2^{s} \ x_3^{s} \ x_4^{s}] \\
  x_{1:4}^{s} = [0.60295 \ 0.0 \ 1.87243 \ 0.79778] \\
  \alpha = [2.5 \ 1.0 \ 0.1] \\
  \beta = [1.0 \ 1.0] \\
  M = 0.04225 \\
  s_{4:5} = [0.0 \ 0.0] \\
  c = 0 \\
  A = 0.17 \\
  u_{1:2}^{s} = [0.80 \ 0.73962] \\
  \kappa_d = 0.02535
  \]
<p>
  Reference:
  <ol>
  <li>Rainer Sch&ouml;pf, Peter Deuflhard,
  <em>OCCAL: A Mixed Symbolic-Numeric Optimal Control CALculator</em>,
  International Series of Numerical Mathematics, Vol. 115, 1994 Birkhauser Verlag Basel.
  </ol>
<p>
  Source: PROPT - Matlab Optimal Control Software, User Manual, April 26, 2010
<p>
<pre>
<font color="red"><b>par:</b></font>
  x0i{1:4} = {0.60295 0 1.87243 0.79778}
  u1s = 0.80
  u2s = 0.73962
  A = 0.17
  c = 0
  s4 = 0
  s5 = 0
  M = 0.04225
  alpha1 = 2.5
  alpha2 = 1.0
  alpha3 = 0.1
  beta1 = 1.0
  beta2 = 1.0
  kappa_d = 0.02535
  tf = 20

<font color="red"><b>dyn:</b></font>
  x{1:4}	<font color="#808080"><i># state variables</i></font>
  u{1:2}	<font color="#808080"><i># control variables</i></font>
  J

<font color="red"><b>t=t0:</b></font>
  x{1:4} = x0i{1:4}
  J = 0

<font color="red"><b>ini:</b></font>
  x{1:4} = x0i{1:4}
  u{1:2} = 0

<font color="red"><b>equ:</b></font>
  x1&acute; == x2*x4
  x2&acute; == 1/M*(u1-s4*x1*x4-s5*x1*x3-kappa_d*x2)
  x3&acute; == u2-A*x3+c*x4
  x4&acute; == -x1*x2
  J&acute;  == alpha1*(<font color="#2ECC40">sqr</font>(x1-x0i1) + <font color="#2ECC40">sqr</font>(x4-x0i4)) + alpha2*<font color="#2ECC40">sqr</font>(x2) + alpha3*<font color="#2ECC40">sqr</font>(x3-x0i3) + beta1*<font color="#2ECC40">sqr</font>(u1-u1s) + beta2*<font color="#2ECC40">sqr</font>(u2-u2s)

<font color="red"><b>obj:</b></font>
  <font color="#8A2BE2">minimize</font> <font color="#0074D9">final</font>(J) <font color="#8A2BE2">using</font> nlp
</pre>
</body>
</html>
